<div ng-controller="ordersController as Orders">
	<div ng-controller="customersController as Customers">
		<div ng-controller="productsController as Products">
			<h3>Add a new order!</h3>
			<form class="form-inline" role="form">
				<div class="form-group row" style="display: block; margin-bottom:-20px">
				    <label for="name">Customer:</label>
					<select class="form-control" ng-model="Orders.newOrder.name">
						<option ng-repeat="customer in Customers.customers | orderBy: 'name'" id="name" value="{{customer.name}}" ng-bind="customer.name"></option>
					</select>
				</div>
				<div class="form-group row" style="display: block">
					<label for="quantity">Order:</label>
					<input type="number" class="form-control" id="quantity" min="1" max="99" ng-model="Orders.newOrder.quantity">
					<select class="form-control" ng-model='Orders.newOrder.product'>
						<option ng-repeat="product in Products.products | orderBy: 'name'" value="{{product.name}}" ng-bind="product.name"></option>
					</select>
				</div>
				<button type='submit' class="btn btn-default col-xs-offset-2" ng-click='Orders.addOrder()'>Order</button>
			</form>
			<form class="form-inline" role="form">
				<input type="text" class="col-xs-offset-4" class="form-control" ng-model="filter_name" placeholder="filter...">
			</form>
			<table class="table-striped">
				<thead>
					<tr>
						<th>Customer Name</th>
						<th>Product</th>
						<th>Quantity</th>
						<th>Created Date</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="order in Orders.orders | filter:filter_name | orderBy: '-createdAt'">
						<td ng-bind="order.name"></td>
						<td ng-bind="order.product"></td>
						<td ng-bind="order.quantity"></td>
						<td ng-bind="order.createdAt | date:'MMM dd, yyyy'"></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>